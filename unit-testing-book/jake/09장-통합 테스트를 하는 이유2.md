#9장 목 처리에 대한 모범 사례

시스템 끝에서 비관리 의존성과의 상호 작용을 검증하라. 컨트롤러와 비관리 의존성  사이의 타입 사슬에서 마지막 고리를 목으로 처리하라 이로써 회귀방지와 리팩터링 내성이 향상될수 있다.

비관리 의존성에만 목 적용하기

시스템 끝에 있는 의존성에 대해 상호 작용 검증하기

통합테스트에서만 목을 사용하고 단위 테스트에서는 하지 않기

테스트당 목이 하나일 필요는 없음

항상 목 호출 수 확인하기

- 예상하는 호출이 있는가?
- 예상치 못한 호출은 없는가?

보유 타입만 목으로 처리하기

- 서드파티 코드의 기술 세부 사항까지는 꼭 필요하지 않기에 어댑터는 이를 추상화하고, 애플리케이션 관점에서 라이브러리와의 관계를 정의한다.
- 어댑터는 코드와 외부 환경 사이의 손상방지 계층으로 작동한다.

어댑터

- 어댑터를 통해 기본라이브러리의 복잡성을 추상화하고
- 라이브러리에서 필요한 기능만 노출하며
- 프로젝트 도메인 언어를 사용해 수행할수 있다.