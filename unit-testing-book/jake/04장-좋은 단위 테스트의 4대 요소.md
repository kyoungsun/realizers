4대 가지 기본 특성

- 회귀 방지
- 리팩터링 내성
- 빠른 피드백
- 유지 보수성

**회귀 방지란?**

테스트가 얼마나 버그의 존재를 잘나타내는지에 대한 척도이며 코드 수정 후 기능이 의도한 대로 작동하지 않는 경우를 말한다. 일반적으로 실행되는 코드가 많을수록 회귀가 나타날 가능성이 높다.

코드의 양뿐만이 아니라 복잡성과 도메인 유의성도 중요하다. 즉 비지니스 로직 코드가 보일러플레이트(반복적인 코드 작성을 줄이기 위해 재사용이 가능한 코드)보다 더 중요하다.

**리팩토링 내성**

리팩터링 내성은 테스트가 코드의 변경을 안전하게 수용할 수 있는 정도를 의미하며 테스트가 거짓 양성을 내지 않고 코드의 리팩터링을 유지할 수 있어야 한다. 이를 위해 테스트와 테스트 대상 시스템의 구현 세부 사항을 최대한 분리해야 하며 리팩터링 내성은 테스트의 정확도를 높이고 코드 변경에 유연하게 대응할 수 있도록 도와준다.

**거짓양성**

거짓 양성이란, 테스트가 실패하지 않았음에도 불구하고 테스트 결과가 실패로 나타나는 상황을 말하며 코드의 변경이 의도한 대로 작동하더라도 테스트가 실패로 표시되는 것이다.

테스트의 목적은 코드의 변경으로 인해 예기치 않은 동작이 발생하는 것을 감지하는 것이나 거짓 양성이 발생하면 실제로는 기능이 의도한 대로 작동하지만 테스트는 실패로 인식하게 된다.

거짓 양성은 테스트와 테스트 대상 시스템 사이의 결합도가 높을수록 발생할 가능성이 높으며 따라서 테스트와 대상 시스템의 구현 세부 사항을 최대한 분리하여 거짓 양성을 최소화해야 한다.

거짓 양성은 테스트의 신뢰성을 저하시키고, 테스트 코드의 가치가 낮아진다. 따라서 테스트 코드 작성 시 거짓 양성을 최소화 해야한다.

### 거짓 양성의 원인

테스트와 테스트 대상 시스템(SUT)의 구현 세부 사항이 많이 결합 할 수록 허위 경보가 더 많이 생긴다.

이 문제의 해결 방법은 해당 구현 세부 사항에서 테스트를 분리하는 것뿐이다.

### 빠른 피드백과 유지보수성

당연하게도 테스트는 빠를 수록 좋다.

유지 보수성 지표는 유지비를 평가하고 아래와 같은 두가지 주요 요소로 구성되어있다.

- 테스트가 얼마나 이해하기 어려운가테스트 크기와 관련이 있다. 작은 테스트는 필요할 때 변경하기 쉽지만 반대는 어렵다.
- 테스트가 얼마나 실행하기 어려운가외부 종속성으로 작동하면 의존성을 상시 운영하는데 시간을 들여야한다.

### 이상적 테스트

모든 면에서 좋은 이상적 테스트는 만들 수 없다.

회귀 방지, 리팩터링 내성, 빠른 피드백은 상호 배타적이기 때문에 셋 중 하나를 희생해야 나머지 둘을 최대로 할 수 있다.

극단적 사례를 살펴보자

- 엔드 투 엔드 테스트회귀 오류와 거짓 양성에 대한 방지를 휼룡히 해내지만 속도가 떨어진다.
- 간단한 테스트우수한 리팩터링 내성과 빠른 피드백을 제공하지만 회귀 방지가 없다.
- 깨지기 쉬운 테스트실행이 빠르고 회귀를 잡을 가능성이 높지만 거짓 양성이 많은 테스트를 작성하기가 매우 쉽다.

**화이트 박스 테스트와 블랙 박스 테스트**

- 화이트 박스: 내부 작업을 검증하는 테스트 방식이고 테스트는 요구 사항이나 명세가 아닌 소스코드에서 파생
- 블랙 박스: 시스템의 내부 구조를 모르더라도 시스템 기능을 검사할 수 있는 소프트웨서 테스트 방법, 어떻게가 아닌 무엇을 해야 하는지 중심으로 구축된다.
