# 좋은 단위 테스트의 4대 요소
<hr>

- 회귀 방지
- 리팩토링 내성
- 빠른 피드백
- 유지보수성

### 회귀방지
- 회귀는 소프트웨어 버그이다.
- 코드를 수정한 후 기능이 의도한 대로 작동하지 않는 경우이다.

### 리팩토링 내성
- 리팩토링은 애플리케이션의 식별할 수 있는 동작에 영향을 미치지 않고 구현을 변경하는 것이다.
- 거짓 양성이란 기능은 예전과 같이 완벽하게 동작하는데 코드베이스를 수정하여 테스트가 빨간색으로 바뀐 상황을 말한다.

#### 거짓양성의 문제점
- 테스트가 타당한 이유없이 실패하면 대응하는 능력과 의지가 상실됨 따라서 시간이 지남에 따라 신경 안쓰게 됨
- 거짓 양성이 빈번하면 신뢰가 떨어짐 따라서 믿을 만한 안전망으로 인식하지 않게되고 낮아진 신뢰로 인해 리팩토링도 줄어듬

#### 거짓양성의 원인
- 테스트가 테스트 대상 시스템의 세부 구현 사항과 많이 결합되어 있어 발생함.
- 거짓 양성이 생길 가능성을 줄이는 방법은 테스트와 SUT의 세부 구현 사항을 분리하여 테스트를 진행해야함
- 이는 테스트가 SUT가 제공하는 최종 결과만을 검증해야함
- <b style="color: orange"> 거짓 양성을 줄이기 위해서는 화이트 박스 테스트가 아닌 블랙 박스 테스트로 진행해야함 </b>

#### 거짓양성의 해결방법
- 테스트가 깨지지 않게 하고 리팩토링 내성을 높이는 방법은 SUT의 세부 구현 사항과 테스트 간의 결합도를 낮추는 방법이다.
- 즉 코드의 내부 작업과 테스트 사이를 가능한 한 멀리 떨어뜨리고 최종 결과로 검증하는 것이다.

💡 회귀 방지와 리팩토링 내성 간의 관계
- <b style="color: orange"> 프로젝트가 시작된 이후에는 회귀 방지를 갖추는 것이 중요한데 반해 리팩토링 내성은 시간이 지남에 따라 필요하다. </b>

### 빠른 피드백
- 단위 테스트는의 필수 속성이다.
- 테스트 속도가 빠를수록 더 많이 수행할 수 있고, 더 자주 실행할 수 있다.
- 오래 걸리는 테스트는 자주 실행하지 못하기 때문에 잘못된 방향으로 가면서 시간을 더 낭비하게 된다.

### 유지보수성
- 테스트가 얼마나 이해하기 어려운가
- 테스트가 얼마나 실행하기 어려운가

<br>
<hr>

## 이상적인 테스트

- 이상적인 테스트는 회귀방지, 리팩토링 내성, 빠른 피드백, 유지보수성 4가지 특성 모두에서 최대 점수를 받은 테스트이다.
하지만 이상적인 테스트를 만드는 것은 불가능하다.

### 엔드 투 엔드 테스트
- 엔드 투 엔드 테스트는 최종 사용자 관점에서 많은 코드(라이브러리, 서드파티, DB)를 테스트하므로 회귀방지를 휼륭히 해낸다. [장점]
- 엔드 투 엔드 테스트는 거짓 양성에 면역이 되어 리팩터링 내성에 강하다. [장점]
- 엔드 투 엔드 테스트는 의존하고 있는 시스템이 많기 때문에 느리다. [단점]
- 회귀 방지와 리팩터링 내성은 좋지만 빠른 피드백은 좋지 않음

### 간단한 테스트
- Setter와 Getter를 사용한 간단한 테스트는 빨리 실행할 수 있어 빠른 피드백과 리팩터링 내성은 좋지만 너무 간단함으로 회귀 방지에는 효율이 떨어진다.

### 깨지기 쉬운 테스트
- 테스트가 SUT의 세부 구현 사항과 밀접하게 관련되어 있다면 이는 회귀 방지와 빠른 피드백 부분에서는 좋지만 리팩터링 내성이 없다.

### 무엇이 가장 중요한 속성인가?
- 앞에서 회귀방지, 리팩토링 내성, 빠른 피드백, 유지보수성이 좋은 단위 테스트의 4대 요소라고 언급하였는데 사실 모든것을 지키기는 어렵고 어떤것을 가장 잘 지켜야 하는가?
- <b style="color: orange"> 모든 테스트는 거짓 양성을 가능한 한 적게 하는 것을 목표로 해야한다. (리팩토링 내성 최우선) </b>

<br>
<hr>

## 화이트 박스 테스트와 블랙 박스 테스트

### 화이트 박스 테스트
- 애플리케이션의 내부 작업을 검증하는 테스트 방식
- 개발자 관점의 테스트 방식
- 입력값에 따른 내부 동작 검증

### 블랙 박스 테스트
- 시스템의 내부 구조를 몰라도 시스템의 기능을 검사할 수 있는 테스트 방식
- 사용자 관점의 테스트 방식
- 입력값에 따른 최종 결과값에 대한 검증

<br>

### 공유 해보면 좋을 의견들
<hr>

#### 애플리케이션의 식별할 수 있는 동작이란 무엇인가?
- 객체지향관점에서 식별할 수 있는 동작은 객체의 메서드와 메서드 호출이다.
- 객체A가 객체B의 특정 메서드를 호출함으로써 객체와 상호작용이 일어나게 되며, 해당 메서드로 인해 객체의 상태를 변경하거나 해당 객체와 커뮤니케이션을할 수 있다. 