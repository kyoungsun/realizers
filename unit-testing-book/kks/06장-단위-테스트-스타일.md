# 06장 단위 테스트 스타일

### 단위 테스트의 세 가지 스타일

* **출력 기반 테스트** : 테스트 대상 시스템(SUT)에 입력을 넣고 생성되는 출력을 점검하는 방식
    * 테스트 대상 시스템에 숨겨진 입출력이 없다고 가정함
* **상태 기반 테스트** : 작업 완료 후 시스템 상태를 점검하는 방식
    * 테스트 대상, 협력자 또는 데이터베이스나 파일 시스템 등과 같은 프로세스 외부 의존성의 상태 등을 확인
    * 출력 기반 테스트 방식에 비해 크기가 큰 편임
    * 헬퍼 메서드와 값 객체를 사용해 유지 보수성 문제를 완화할 수도 있지만 코드 오염이 발생할 수 있으므로 주의가 필요함
* **통신 기반 테스트** : 목을 사용해 테스트 대상 시스템과 협력자 간의 통신을 검증하는 방식
    * 애플리케이션 경계를 넘어서 외부 환경에 부작용이 보이는 통신만 확인해야 함

### 함수형 아키텍처, 육각형 아키텍처

* 비즈니스 로직을 처리하는 코드(함수형 코어)와 부작용을 일으키는 코드(가변 셸)를 분리함
* 함수형 아키텍처는 육각형 아키텍처의 하위 집합이며 극단적으로는 함수형 아키텍처를 육각형 아키텍처로 볼 수도 있음
* 함수형 아키텍처는 성능과 코드 유지 보수성 사이의 절충으로 유지 보수성 향상을 위해 성능을 희생함
* 모든 코드베이스를 함수형 아키텍처로 전환할 수는 없음
* 코드베이스가 단순하거나 중요하지 않을 때 함수형 아키텍처의 도입은 별 효과가 없을 수 있음

### 질문하고 싶은 내용

* Q1. 데이터베이스에 데이터를 저장하는 것은 통신 기반 테스트가 필요한가?