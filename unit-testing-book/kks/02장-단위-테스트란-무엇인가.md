# 02장 단위 테스트란 무엇인가

## 단위 테스트의 정의

* 단일 동작 단위를 검증하고
* 빠르게 수행하고
* 다른 테스트와 별도로 처리한다.

## 런던파 VS 고전파

두 분파는 단위 테스트 작성 시 격리 수준을 어떻게 가져갈 것인가에 대한 견해 차이가 있다. 이로 인해 테스트 대상의 단위, 의존성 처리 방식에 영향을 미친다.

### 런던파

* 테스트 대상의 단위는 단일 단일 클래스
* 불변 의존성을 제외한 모든 의존성을 테스트 대역으로 대체
* 한 번에 한 클레스만 테스트하기 때문에 테스트가 실패하면 바로 오류 위치를 파악할 수 있음
* 하지만, 테스트 코드에 구현 세부사항이 많이 노출되어 리팩토링 내성이 떨어짐

### 고전파

* 테스트 대상은 코드 단위가 아니라 동작 단위가 되어야함
* 공유 의존성을 테스트 대역으로 대체
* 테스트 코드를 작성하다보면 의존성 그래프를 다 구현해야 해서 복잡하다고 할 수 있지만 복잡한 의존성 그래프는 리팩토링 대상이 아닌지 생각해봐야함

### 공유 의존성이란?

* 테스트 간에 공유되고 서로의 결과에 영향을 미칠 수 있는 수단
* 대표적으로 정적 가변 필드, 데이터 베이스

### 런던파 고전파에 대한 개인적인 견해

* 도메인 로직을 테스트 할 때는 상태 검증을 위해 고전파 방식을 사용하고, 도메인 로직들을 합쳐서 구현하는 비즈니스 로직을 테스트 할 때는 런던파 방식을 사용하면 좋을 것 같음
