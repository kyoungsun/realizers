# 07장 가치 있는 단위 테스트를 위한 리팩터링

### 코드의 네 가지 유형

* **도메인 모델 및 알고리즘**
    * 단위 테스트하면 노력 대비 가장 이로움
    * 테스트의 회귀 방지가 향상됨
    * 협력자가 거의 없어서 테스트 유지비도 저렴함
* **간단한 코드**
    * 테스트할 필요 없음
* **컨트롤러**
    * 포괄적인 통합 테스트의 일부로서 간단히 테스트 진행
* **지나치게 복잡한 코드**
    * 험블 객체 패턴을 사용하여 알고리즘과 컨트롤러로 나눠서 리팩터링 해야 함
        * 험블 객체 패턴은 해당 코드에서 비즈니스 로직을 별도의 클래스로 추출해 테스트 용이성을 높히는 방법임

### 컨트롤러에서 조건부 로직 처리

* CanExecute/Execute 패턴 사용
* 도메인 이벤트를 사용해 도메인 모델 변경 사항 추적

### 질문하고 싶은 내용

* Q1. 우리 시스템에서 도메인 이벤트를 사용하는 방식으로 리팩토링하면 좋을 것 같은 코드가 있는가?